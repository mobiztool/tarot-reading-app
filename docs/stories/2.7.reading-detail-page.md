# Story 2.7: Reading Detail Page for Past Readings

## Status

**Approved**

---

## Story

**As a** logged-in user,  
**I want** to view full details of any past reading,  
**so that** I can revisit the interpretation and reflect on the guidance.

---

## Acceptance Criteria

1. Reading detail page (`/reading/[id]`) displays full reading with same layout as original result page
2. Shows: date and time of reading, reading type, question (if provided), all cards drawn
3. Cards displayed with full interpretations as shown originally
4. Immutable view: cannot re-draw or change cards (this is historical record)
5. Action buttons: "Share" (Epic 3), "Delete reading", "Back to history"
6. Delete reading: confirmation modal, permanently removes reading from history
7. URL shareable: can copy link and access from different device (if logged in)
8. 404 error: if reading ID doesn't exist or doesn't belong to user
9. Permission check: users can only view their own readings (RLS enforced)
10. Analytics tracked: `reading_detail_viewed`, `reading_deleted`

---

## Tasks / Subtasks

- [ ] **Task 1: Create Dynamic Route** (AC: 1)
  - [ ] Create `src/app/reading/[id]/page.tsx`
  - [ ] Protected route
  - [ ] Fetch reading by ID with RLS check

- [ ] **Task 2: Reuse Result Components** (AC: 2, 3)
  - [ ] Reuse ReadingResult component from Stories 1.7-1.8
  - [ ] Mark as "Past Reading" with timestamp
  - [ ] Disable any interactive elements

- [ ] **Task 3: Delete Functionality** (AC: 6)
  - [ ] Add delete button with confirmation modal
  - [ ] API: DELETE /api/readings/[id]
  - [ ] Redirect to history after delete

- [ ] **Task 4: Permission Checks** (AC: 8, 9)
  - [ ] Verify user owns reading (RLS)
  - [ ] Show 404 if not found or unauthorized
  - [ ] Handle errors gracefully

- [ ] **Task 5: Analytics** (AC: 10)
  - [ ] Track: `reading_detail_viewed`, `reading_deleted`

- [ ] **Task 6: Testing** (AC: 1-10)
  - [ ] Test viewing own reading
  - [ ] Test unauthorized access
  - [ ] Test delete flow

---

## Dev Notes

**From Stories 1.7-1.8:** ReadingResult component ready

**From Story 2.5:** RLS policies enforce ownership

---

## Change Log

| Date       | Version | Description            | Author           |
| ---------- | ------- | ---------------------- | ---------------- |
| 2026-01-01 | 1.0     | Initial story creation | Sarah (PO Agent) |

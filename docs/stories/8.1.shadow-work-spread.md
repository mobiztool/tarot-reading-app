# Story 8.1: Shadow Work Spread (7 Cards) - Premium

## Status
**Ready for Review**

## Story
**As a** VIP subscriber, **I want** shadow work spread for deep psychological insights, **so that** I explore hidden aspects of myself.

## Acceptance Criteria
1. Shadow Work page (/reading/shadow-work) - VIP only
2. 7 positions: Conscious Self, Shadow, Fear, Denied Strength, Integration, Healing, Wholeness
3. Psychology-depth interpretations
4. Trigger warnings: deep introspection content
5. Journaling prompts for each position
6. Save as reading_type: 'shadow_work'
7. VIP tier check
8. Dark, contemplative UI theme
9. Mobile responsive
10. Integration with notes feature (Story 4.6)

## Tasks / Subtasks
- [x] **Task 1: Route** - /reading/shadow-work, VIP check
- [x] **Task 2: Schema** - Add shadow_work to ReadingType + PositionLabel
- [x] **Task 3: 7-Card Layout** - Psychology-focused dark design
- [x] **Task 4: Deep Content** - Shadow work interpretations (Jungian psychology)
- [x] **Task 5: Journaling** - Reflection prompts for each position
- [x] **Task 6: Testing** - Unit tests passing

## Dev Notes
**Target:** Serious spiritual practitioners
**Content:** Requires psychology expertise
**VIP Exclusive:** Deepest level content

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-08 | 1.0 | Phase 4 story | Sarah (PO) |
| 2026-01-16 | 1.1 | Implementation complete | James (Dev) |

## Dev Agent Record

### Agent Model Used
Claude Opus 4.5

### Debug Log References
- N/A (no debug issues encountered)

### Completion Notes
- Created `/reading/shadow-work` route with VIP-only access control
- Added `shadow_work` to ReadingType enum in Prisma schema
- Added 7 shadow work position labels (sw_conscious_self, sw_shadow, sw_fear, sw_denied_strength, sw_integration, sw_healing, sw_wholeness)
- Implemented dark, contemplative UI theme matching story requirements
- Added trigger warning for deep psychological content
- Implemented Jungian psychology-based interpretations for each position
- Created journaling prompts for each of the 7 positions
- Professional help reminder included
- All unit tests passing (13 tests for shadow work, 65 total including access control)

### File List
**New Files:**
- `apps/web/src/app/reading/shadow-work/page.tsx` - Shadow Work reading page
- `apps/web/tests/unit/shadow-work.test.ts` - Unit tests for Shadow Work spread

**Modified Files:**
- `apps/web/prisma/schema.prisma` - Added shadow_work ReadingType and sw_* PositionLabels
- `apps/web/src/lib/tarot/shuffle.ts` - Added drawShadowWorkSpread function
- `apps/web/src/lib/hooks/useTarotReading.ts` - Added shadow-work ReadingType
- `apps/web/src/lib/hooks/useSaveReading.ts` - Added shadow_work ReadingType and position labels
- `apps/web/src/lib/access-control/spread-info.ts` - Marked shadow_work as isAvailable: true
- `apps/web/src/types/card.ts` - Added sw_* PositionLabel types


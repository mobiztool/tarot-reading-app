# Story 4.1: Theme & Color Customization

## Status

**Approved**

## Story

**As a** user, **I want** to personalize the app's appearance, **so that** it feels more "mine" and matches my preferences.

## Acceptance Criteria

1. Theme settings page or modal
2. Themes: Dark Mystical (default), Light Ethereal, Deep Ocean, Cosmic Purple
3. Each theme: background colors, accent colors, card backs
4. Theme preview before applying
5. Persisted: user profile (logged-in) or localStorage (anonymous)
6. Applies instantly: no page refresh
7. All pages support themes
8. Accessibility: WCAG AA contrast maintained
9. Analytics: track theme popularity
10. Custom theme (future): color picker

## Tasks / Subtasks

- [ ] **Task 1: Theme System Architecture** (AC: 1, 3)
  - [ ] Create theme definitions (CSS variables or Tailwind)
  - [ ] 4 theme variants
- [ ] **Task 2: Theme Selector UI** (AC: 1, 4)
  - [ ] Theme selection modal or page
  - [ ] Preview cards for each theme
- [ ] **Task 3: Theme Persistence** (AC: 5, 6)
  - [ ] Save to user_preferences table (logged-in)
  - [ ] Save to localStorage (anonymous)
  - [ ] Apply on load
- [ ] **Task 4: Theme Application** (AC: 6, 7)
  - [ ] Dynamic theme switching
  - [ ] No page refresh needed
- [ ] **Task 5: Accessibility Check** (AC: 8)
  - [ ] Verify contrast ratios
- [ ] **Task 6: Analytics** (AC: 9)
  - [ ] Track: theme_changed
- [ ] **Task 7: Testing** (AC: 1-10)
  - [ ] Test all themes
  - [ ] Verify persistence

## Dev Notes

**From Story 2.5:** user_preferences table ready
**Design System:** Tailwind makes theming easy
**UX:** Personalization increases engagement

## Change Log

| Date       | Version | Description            | Author           |
| ---------- | ------- | ---------------------- | ---------------- |
| 2026-01-01 | 1.0     | Initial story creation | Sarah (PO Agent) |

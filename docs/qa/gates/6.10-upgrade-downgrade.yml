# Quality Gate: Story 6.10 - Upgrade & Downgrade Flow
schema: 1
story: "6.10"
story_title: "Upgrade & Downgrade Flow"
gate: "CONCERNS"
status_reason: "Upgrade/downgrade logic implemented with Stripe proration. Good UX with confirmation modals. No tests for tier change logic or proration calculations."
reviewer: "Quinn (Test Architect)"
updated: "2026-01-13T12:05:00Z"

top_issues:
  - id: "TEST-017"
    severity: high
    finding: "No integration tests for upgrade/downgrade API"
    suggested_action: "Add integration tests for tier change API with proration verification"
    suggested_owner: dev
  - id: "TEST-018"
    severity: high
    finding: "No tests for scheduled downgrade logic"
    suggested_action: "Add tests for downgrade-at-period-end functionality"
    suggested_owner: dev

waiver: { active: false }
quality_score: 70
risk_summary:
  totals: { critical: 0, high: 2, medium: 0, low: 0 }
  highest:
    risk: "Billing logic untested"
    score: 8
    impact: "Incorrect billing, customer disputes, revenue loss"
compliance: { coding_standards: PASS, testing_strategy: FAIL }

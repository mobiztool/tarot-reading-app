# Test Design: Story 7.2 - Decision Making Spread (5 Cards, 2 Options)

**Story:** 7.2  
**Component:** Decision Making Spread - Compare 2 Options  
**QA Engineer:** Quinn (Test Architect)  
**Date:** 2026-01-13  
**Risk Level:** MEDIUM (Unique 2-option input feature)

---

## 1. Test Strategy

### Test Levels
- **Unit Tests** (40%): 2-option validation, card logic
- **Component Tests** (30%): Layout, input fields
- **Integration Tests** (20%): API, database
- **E2E Tests** (10%): Complete decision flow

### Focus Areas
- **2-option input** (unique feature not used elsewhere)
- **Comparison layout** (Option 1 vs Option 2)
- **Pro/VIP access** control
- **Decision guidance** content quality

---

## 2. Test Scenarios

### Scenario 1: 2-Option Input Feature (P0)
**Given-When-Then:**
- **Given** user on Decision Making page
- **When** prompted for input
- **Then** asks for 2 options to compare
- **And** both options required before draw

**Test Cases:**
- TC-7.2-001: Two input fields displayed (Option 1, Option 2)
- TC-7.2-002: Both fields required (validation)
- TC-7.2-003: Cannot draw cards with only 1 option
- TC-7.2-004: Placeholder text clear (e.g., "เช่น: เปลี่ยนงาน")
- TC-7.2-005: Options max length (e.g., 100 characters)
- TC-7.2-006: Thai input supported
- TC-7.2-007: Options saved with reading
- TC-7.2-008: Options displayed in results

**Priority:** P0 (Unique feature)

---

### Scenario 2: 5-Card Comparison Layout (P0)
**Given-When-Then:**
- **Given** user draws cards
- **When** 5 cards display
- **Then** layout shows comparison:
  - Card 1: Option 1 Outcome (left)
  - Card 2: Option 1 Challenges (left)
  - Card 3: Comparison/Advice (center)
  - Card 4: Option 2 Challenges (right)
  - Card 5: Option 2 Outcome (right)

**Test Cases:**
- TC-7.2-010: 5 cards in comparison layout
- TC-7.2-011: Left column = Option 1 cards
- TC-7.2-012: Right column = Option 2 cards
- TC-7.2-013: Center card = comparison/advice
- TC-7.2-014: Option labels show user's input text
- TC-7.2-015: Clear visual separation (columns)
- TC-7.2-016: Mobile: vertical stack (Option 1 → Comparison → Option 2)

**Priority:** P0 (Core UX)

---

### Scenario 3: Pro/VIP Access Control (P0)
**Test Cases:**
- TC-7.2-020: FREE/BASIC users → premium gate
- TC-7.2-021: PRO users → access granted
- TC-7.2-022: VIP users → access granted

**Priority:** P0

---

### Scenario 4: Decision Guidance Content (P0)
**Test Cases:**
- TC-7.2-030: Position 3 (Comparison) provides clear guidance
- TC-7.2-031: Positions 1 & 5 (Outcomes) show potential results
- TC-7.2-032: Positions 2 & 4 (Challenges) show obstacles
- TC-7.2-033: Summary helps user decide
- TC-7.2-034: Thai language natural

**Priority:** P0

---

### Scenario 5: Save Reading with Options (P0)
**Test Cases:**
- TC-7.2-040: reading_type = "decision_making"
- TC-7.2-041: Options text saved in metadata
- TC-7.2-042: Can reload with options shown
- TC-7.2-043: History shows "Decision: [Option 1] vs [Option 2]"

**Priority:** P0

---

## 3. E2E Test Scenarios

### Scenario 6: Complete Decision Flow (P0)
**Steps:**
1. Login as Pro user
2. Navigate to Decision Making spread
3. Enter Option 1: "เปลี่ยนงาน"
4. Enter Option 2: "อยู่งานเดิม"
5. Draw 5 cards
6. View comparison layout
7. Read all 5 interpretations
8. Read decision summary
9. Save reading
10. Verify options saved in history

**Priority:** P0

---

## 4. Success Criteria

✅ **2-Option Input:**
- [ ] Validation works correctly
- [ ] Options saved and displayed
- [ ] UX clear and intuitive

✅ **Comparison Layout:**
- [ ] 5 cards in correct positions
- [ ] Visual separation clear
- [ ] Mobile responsive

✅ **Content Quality:**
- [ ] Decision guidance helpful
- [ ] Comparison card provides clarity

✅ **Overall:**
- [ ] All P0 tests passing
- [ ] User feedback positive on feature

---

**Estimated Effort:** 3 days
